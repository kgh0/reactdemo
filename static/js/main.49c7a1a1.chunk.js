(this.webpackJsonpmydemo=this.webpackJsonpmydemo||[]).push([[0],{171:function(e,t,n){e.exports=n(325)},176:function(e,t,n){},177:function(e,t,n){},325:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),i=(n(176),n(46)),l=n(47),u=n(49),s=n(48),m=n(50),g=(n(177),n(84)),h=n(39),p=(n(125),n(67)),d=(n(123),n(66)),E=(n(326),n(60)),b=(n(182),n(122)),f=(n(158),n(10)),O=(n(185),n(155)),S=n(56),j=n(90),y=n.n(j),v=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields((function(e,t){e||("admin"==t.username&&"123"==t.password?(window.localStorage.setItem("loggedIn",!0),n.props.history.push("/")):O.a.error("\u8d26\u53f7\u5bc6\u7801\u9519\u8bef",1))}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.data;e.error;n&&(console.log(this.props.history),window.localStorage.setItem("loggedIn",!0));var a=window.localStorage.getItem("loggedIn"),o=this.props.form.getFieldDecorator,c=r.a.createElement(p.a,{tip:"logining...",spinning:t},r.a.createElement("div",{className:"login-container"},r.a.createElement(E.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement("div",{className:"sub-title"},"\u767b \u5f55"),r.a.createElement(E.a.Item,null,o("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(r.a.createElement(b.a,{prefix:r.a.createElement(f.a,{type:"user",className:"login-icon"}),placeholder:"\u7528\u6237\u540d"}))),r.a.createElement(E.a.Item,null,o("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(r.a.createElement(b.a,{prefix:r.a.createElement(f.a,{type:"lock",className:"login-icon"}),type:"password",placeholder:"\u5bc6\u7801123"}))),r.a.createElement(E.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55")))));return a?r.a.createElement(h.a,{to:"/"}):c}}]),t}(r.a.Component),w=E.a.create({name:"normal_login"})(v),I=Object(S.b)((function(e,t){var n=e.login;return{isFetching:n.isFetching,data:n.data,error:n.error}}),(function(e){return{loginClick:function(t,n){return e(function(e,t){return function(n){var a="http://localhost:9080/user/login/"+e+"/"+t;n({type:"Login/REQUEST_POSTS"}),y()(a,{method:"Get",mode:"cors"}).then((function(e){return e.json()}),(function(e){n(function(e){return{type:"Login/RECEIVE_POSTS",error:e}}(e.message))})).then((function(e){n({type:"Login/RECEIVE_POSTS",data:e}),console.log("hello")}))}}(t,n))}}}))(w),F=(n(168),n(59)),T=(n(169),n(115)),P=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,395))})),k=Object(a.lazy)((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,392))})),C=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,396))})),_=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,393))})),M=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(9)]).then(n.bind(null,394))})),R=(T.a.Item,T.a.SubMenu,F.a.Header,F.a.Footer,F.a.Sider,F.a.Content,function(){return r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("div",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/home",component:k}),r.a.createElement(h.b,{exact:!0,path:"/user/list",component:M}),r.a.createElement(h.b,{exact:!0,path:"/user/connect",component:_}),r.a.createElement(h.b,{exact:!0,path:"/gdmap",component:C}),r.a.createElement(h.a,{to:"/home"}))))}),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.getMenus)()}},{key:"render",value:function(){var e=window.localStorage.getItem("loggedIn"),t=this.props,n=t.isFetching,o=t.menu;return e?r.a.createElement("div",null,n?r.a.createElement(p.a,{size:"large",spinning:n}):r.a.createElement(a.Suspense,{fallback:r.a.createElement(p.a,{size:"large"})},r.a.createElement(F.a,null,r.a.createElement(P,{menu:o}),r.a.createElement(R,null)))):r.a.createElement(h.a,{to:"/login"})}}]),t}(r.a.Component),z=Object(S.b)((function(e,t){var n=e.main;return{isFetching:n.isFetching,menu:n.data,error:n.error}}),(function(e){return{getMenus:function(t){return e((function(e){e({type:"Menu/REQUEST_POSTS"}),y()("http://localhost:9080/menu/getMenus/",{method:"Get",mode:"cors"}).then((function(e){return e.json()}),(function(t){e(function(e){return{type:"Menu/RECEIVE_POSTS",error:e}}(t.message))})).then((function(t){e({type:"Menu/RECEIVE_POSTS",data:t}),console.log(t)}))}))}}}))(x),L=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/login",component:I}),r.a.createElement(h.b,{path:"/",component:z}),r.a.createElement(h.a,{to:"/"})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n(58),V=n(153),Q=n(154),U=n(18),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Login/REQUEST_POSTS":return Object.assign({},e,{isFetching:!0});case"Login/RECEIVE_POSTS":return Object.assign({},e,{isFetching:!1,data:t.data,error:t.error});default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Menu/REQUEST_POSTS":return Object.assign({},e,{isFetching:!0});case"Menu/RECEIVE_POSTS":return Object.assign({},e,{isFetching:!1,data:t.data,error:t.error});default:return e}},B=(Object(U.a)(),Object(N.c)({login:W,main:q})),D=Object(Q.createLogger)();var G,J=Object(N.d)(B,G,Object(N.a)(V.a,D));c.a.render(r.a.createElement(S.a,{store:J},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[171,1,2]]]);
//# sourceMappingURL=main.49c7a1a1.chunk.js.map